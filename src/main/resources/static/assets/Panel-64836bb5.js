import{a as ye}from"./api-9de8bbcf.js";import{p as W,m as q,j as ce,k as O,u as X,a as n,l as we,n as ke,s as R,q as b,v as Ve,x as de,y as A,z as ve,C as be,A as pe,B as Ce,D as Se,E as xe,G as Be,H as Te,I as _e,J as Le,K as Q,L as ee,M as Me,N as Ee,O as Pe,P as Ie,Q as $,R as Re,S as me,T as He,U as Ae,W as De,X as Z,Y as Ye,F as fe,Z as Ne,$ as We,a0 as Oe,a1 as Xe,a2 as ze,a3 as Fe,a4 as Ue,a5 as $e,a6 as te,a7 as ae,a8 as Ze,a9 as qe,_ as je,r as Je,o as F,c as ne,w,V as Ge,aa as le,ab as oe,ac as P,e as U,ad as Ke,b as Qe,h as et,g as N,ae as tt}from"./index-ba8ae7a7.js";import{V as at}from"./VMain-ca3c5457.js";import{V as ie,a as nt,d as lt,c as ot}from"./VCard-a98264cd.js";import{V as ue}from"./VSpacer-9429de5a.js";import{V as it}from"./VDialog-493d3ece.js";const ut=W({start:Boolean,end:Boolean,...q(),...ce()},"v-list-item-action"),rt=O()({name:"VListItemAction",props:ut(),setup(e,l){let{slots:s}=l;return X(()=>n(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},s)),{}}});const st=W({...q(),...we()},"v-layout"),ct=O()({name:"VLayout",props:st(),setup(e,l){let{slots:s}=l;const{layoutClasses:i,layoutStyles:t,getLayoutItem:a,items:v,layoutRef:u}=ke(e);return X(()=>{var V;return n("div",{ref:u,class:[i.value,e.class],style:[t.value,e.style]},[(V=s.default)==null?void 0:V.call(s)])}),{getLayoutItem:a,items:v}}});function dt(e){let{rootEl:l,isSticky:s,layoutItemStyles:i}=e;const t=R(!1),a=R(0),v=b(()=>{const k=typeof t.value=="boolean"?"top":t.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[k]:Ve(a.value)}:{top:i.value.top}]});de(()=>{A(s,k=>{k?window.addEventListener("scroll",V,{passive:!0}):window.removeEventListener("scroll",V)},{immediate:!0})}),ve(()=>{document.removeEventListener("scroll",V)});let u=0;function V(){const k=u>window.scrollY?"up":"down",d=l.value.getBoundingClientRect(),m=parseFloat(i.value.top??0),f=window.scrollY-Math.max(0,a.value-m),g=d.height+Math.max(a.value,m)-window.scrollY-window.innerHeight,h=parseFloat(getComputedStyle(l.value).getPropertyValue("--v-body-scroll-y"))||0;d.height<window.innerHeight-m?(t.value="top",a.value=m):k==="up"&&t.value==="bottom"||k==="down"&&t.value==="top"?(a.value=window.scrollY+d.top-h,t.value=!0):k==="down"&&g<=0?(a.value=0,t.value="bottom"):k==="up"&&f<=0&&(h?t.value!=="top"&&(a.value=-f+h+m,t.value="top"):(a.value=d.top+f,t.value="top")),u=window.scrollY}return{isStuck:t,stickyStyles:v}}const vt=100,mt=20;function re(e){const l=1.41421356237;return(e<0?-1:1)*Math.sqrt(Math.abs(e))*l}function se(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let l=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const i=re(l),t=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);l+=(t-i)*Math.abs(t),s===e.length-1&&(l*=.5)}return re(l)*1e3}function ft(){const e={};function l(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new be(mt))).push([t.timeStamp,a])})}function s(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function i(t){var k;const a=(k=e[t])==null?void 0:k.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const v=a[0],u=[],V=[];for(const d of a){if(v[0]-d[0]>vt)break;u.push({t:d[0],d:d[1].clientX}),V.push({t:d[0],d:d[1].clientY})}return{x:se(u),y:se(V),get direction(){const{x:d,y:m}=this,[f,g]=[Math.abs(d),Math.abs(m)];return f>g&&d>=0?"right":f>g&&d<=0?"left":g>f&&m>=0?"down":g>f&&m<=0?"up":gt()}}}return{addMovement:l,endTouch:s,getVelocity:i}}function gt(){throw new Error}function ht(e){let{isActive:l,isTemporary:s,width:i,touchless:t,position:a}=e;de(()=>{window.addEventListener("touchstart",B,{passive:!0}),window.addEventListener("touchmove",T,{passive:!1}),window.addEventListener("touchend",_,{passive:!0})}),ve(()=>{window.removeEventListener("touchstart",B),window.removeEventListener("touchmove",T),window.removeEventListener("touchend",_)});const v=b(()=>["left","right"].includes(a.value)),{addMovement:u,endTouch:V,getVelocity:k}=ft();let d=!1;const m=R(!1),f=R(0),g=R(0);let h;function L(r,o){return(a.value==="left"?r:a.value==="right"?document.documentElement.clientWidth-r:a.value==="top"?r:a.value==="bottom"?document.documentElement.clientHeight-r:I())-(o?i.value:0)}function M(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const c=a.value==="left"?(r-g.value)/i.value:a.value==="right"?(document.documentElement.clientWidth-r-g.value)/i.value:a.value==="top"?(r-g.value)/i.value:a.value==="bottom"?(document.documentElement.clientHeight-r-g.value)/i.value:I();return o?Math.max(0,Math.min(1,c)):c}function B(r){if(t.value)return;const o=r.changedTouches[0].clientX,c=r.changedTouches[0].clientY,y=25,S=a.value==="left"?o<y:a.value==="right"?o>document.documentElement.clientWidth-y:a.value==="top"?c<y:a.value==="bottom"?c>document.documentElement.clientHeight-y:I(),x=l.value&&(a.value==="left"?o<i.value:a.value==="right"?o>document.documentElement.clientWidth-i.value:a.value==="top"?c<i.value:a.value==="bottom"?c>document.documentElement.clientHeight-i.value:I());(S||x||l.value&&s.value)&&(d=!0,h=[o,c],g.value=L(v.value?o:c,l.value),f.value=M(v.value?o:c),V(r),u(r))}function T(r){const o=r.changedTouches[0].clientX,c=r.changedTouches[0].clientY;if(d){if(!r.cancelable){d=!1;return}const S=Math.abs(o-h[0]),x=Math.abs(c-h[1]);(v.value?S>x&&S>3:x>S&&x>3)?(m.value=!0,d=!1):(v.value?x:S)>3&&(d=!1)}if(!m.value)return;r.preventDefault(),u(r);const y=M(v.value?o:c,!1);f.value=Math.max(0,Math.min(1,y)),y>1?g.value=L(v.value?o:c,!0):y<0&&(g.value=L(v.value?o:c,!1))}function _(r){if(d=!1,!m.value)return;u(r),m.value=!1;const o=k(r.changedTouches[0].identifier),c=Math.abs(o.x),y=Math.abs(o.y);(v.value?c>y&&c>400:y>c&&y>3)?l.value=o.direction===({left:"right",right:"left",top:"down",bottom:"up"}[a.value]||I()):l.value=f.value>.5}const p=b(()=>m.value?{transform:a.value==="left"?`translateX(calc(-100% + ${f.value*i.value}px))`:a.value==="right"?`translateX(calc(100% - ${f.value*i.value}px))`:a.value==="top"?`translateY(calc(-100% + ${f.value*i.value}px))`:a.value==="bottom"?`translateY(calc(100% - ${f.value*i.value}px))`:I(),transition:"none"}:void 0);return{isDragging:m,dragProgress:f,dragStyles:p}}function I(){throw new Error}const yt=["start","end","left","right","top","bottom"],wt=W({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[String,Boolean],default:!0},image:String,temporary:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>yt.includes(e)},sticky:Boolean,...pe(),...q(),...Ce(),...Se(),...xe(),...ce({tag:"nav"}),...Be()},"v-navigation-drawer"),kt=O()({name:"VNavigationDrawer",props:wt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,l){let{attrs:s,emit:i,slots:t}=l;const{isRtl:a}=Te(),{themeClasses:v}=_e(e),{borderClasses:u}=Le(e),{backgroundColorClasses:V,backgroundColorStyles:k}=Q(ee(e,"color")),{elevationClasses:d}=Me(e),{mobile:m}=Ee(),{roundedClasses:f}=Pe(e),g=Ie(),h=$(e,"modelValue",null,C=>!!C),{ssrBootStyles:L}=Re(),M=me(),B=R(!1),T=b(()=>e.rail&&e.expandOnHover&&B.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),_=b(()=>Ne(e.location,a.value)),p=b(()=>!e.permanent&&(m.value||e.temporary)),r=b(()=>e.sticky&&!p.value&&_.value!=="bottom");e.expandOnHover&&e.rail!=null&&A(B,C=>i("update:rail",!C)),e.disableResizeWatcher||A(p,C=>!e.permanent&&We(()=>h.value=!C)),!e.disableRouteWatcher&&g&&A(g.currentRoute,()=>p.value&&(h.value=!1)),A(()=>e.permanent,C=>{C&&(h.value=!0)}),He(()=>{e.modelValue!=null||p.value||(h.value=e.permanent||!m.value)});const{isDragging:o,dragProgress:c,dragStyles:y}=ht({isActive:h,isTemporary:p,width:T,touchless:ee(e,"touchless"),position:_}),S=b(()=>{const C=p.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):T.value;return o.value?C*c.value:C}),{layoutItemStyles:x,layoutItemScrimStyles:D}=Ae({id:e.name,order:b(()=>parseInt(e.order,10)),position:_,layoutSize:S,elementSize:T,active:b(()=>h.value||o.value),disableTransitions:b(()=>o.value),absolute:b(()=>e.absolute||r.value&&typeof E.value!="string")}),{isStuck:E,stickyStyles:z}=dt({rootEl:M,isSticky:r,layoutItemStyles:x}),Y=Q(b(()=>typeof e.scrim=="string"?e.scrim:null)),H=b(()=>({...o.value?{opacity:c.value*.2,transition:"none"}:void 0,...D.value}));De({VList:{bgColor:"transparent"}});function ge(){B.value=!0}function he(){B.value=!1}return X(()=>{const C=t.image||e.image;return n(fe,null,[n(e.tag,Z({ref:M,onMouseenter:ge,onMouseleave:he,class:["v-navigation-drawer",`v-navigation-drawer--${_.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":B.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":p.value,"v-navigation-drawer--active":h.value,"v-navigation-drawer--sticky":r.value},v.value,V.value,u.value,d.value,f.value,e.class],style:[k.value,x.value,y.value,L.value,z.value,e.style]},s),{default:()=>{var j,J,G,K;return[C&&n("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?(j=t.image)==null?void 0:j.call(t,{image:e.image}):n("img",{src:e.image,alt:""},null)]),t.prepend&&n("div",{class:"v-navigation-drawer__prepend"},[(J=t.prepend)==null?void 0:J.call(t)]),n("div",{class:"v-navigation-drawer__content"},[(G=t.default)==null?void 0:G.call(t)]),t.append&&n("div",{class:"v-navigation-drawer__append"},[(K=t.append)==null?void 0:K.call(t)])]}}),n(Ye,{name:"fade-transition"},{default:()=>[p.value&&(o.value||h.value)&&!!e.scrim&&n("div",{class:["v-navigation-drawer__scrim",Y.backgroundColorClasses.value],style:[H.value,Y.backgroundColorStyles.value],onClick:()=>h.value=!1},null)]})])}),{isStuck:E}}});const Vt=W({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...Oe(),...Xe()},"v-switch"),bt=O()({name:"VSwitch",inheritAttrs:!1,props:Vt(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,l){let{attrs:s,slots:i}=l;const t=$(e,"indeterminate"),a=$(e,"modelValue"),{loaderClasses:v}=ze(e),{isFocused:u,focus:V,blur:k}=Fe(e),d=b(()=>typeof e.loading=="string"&&e.loading!==""?e.loading:e.color),m=Ue(),f=b(()=>e.id||`switch-${m}`);function g(){t.value&&(t.value=!1)}return X(()=>{const[h,L]=$e(s),[M,B]=te.filterProps(e),[T,_]=ae.filterProps(e),p=me();function r(o){var c,y;o.stopPropagation(),o.preventDefault(),(y=(c=p.value)==null?void 0:c.input)==null||y.click()}return n(te,Z({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":t.value},v.value,e.class],style:e.style},h,M,{id:f.value,focused:u.value}),{...i,default:o=>{let{id:c,messagesId:y,isDisabled:S,isReadonly:x,isValid:D}=o;return n(ae,Z({ref:p},T,{modelValue:a.value,"onUpdate:modelValue":[E=>a.value=E,g],id:c.value,"aria-describedby":y.value,type:"checkbox","aria-checked":t.value?"mixed":void 0,disabled:S.value,readonly:x.value,onFocus:V,onBlur:k},L),{...i,default:()=>n("div",{class:"v-switch__track",onClick:r},null),input:E=>{let{textColorClasses:z,textColorStyles:Y}=E;return n("div",{class:["v-switch__thumb",z.value],style:Y.value},[e.loading&&n(Ze,{name:"v-switch",active:!0,color:D.value===!1?void 0:d.value},{default:H=>i.loader?i.loader(H):n(qe,{active:H.isActive,color:H.color,indeterminate:!0,size:"16",width:"2"},null)})])}})}})}),{}}}),pt={data(){return{drawer:!0,items:[{title:"主页",icon:"mdi-home-city",value:"Profile"},{title:"商品管理",icon:"mdi-factory",value:"Product"},{title:"品类管理",icon:"mdi-sort-variant",value:"Category"},{title:"日志查询",icon:"mdi-note",value:"Log"}],rail:!0,settings:!1}},methods:{navigator(e){this.$router.push({name:e})},logout(){ye.post("/logout",{}).then(()=>{}),window.location="/login"},onSettings(){this.settings=!this.settings}}};function Ct(e,l,s,i,t,a){const v=Je("router-view");return F(),ne(Ge,null,{default:w(()=>[n(ie,null,{default:w(()=>[n(ct,null,{default:w(()=>[n(kt,{modelValue:t.drawer,"onUpdate:modelValue":l[2]||(l[2]=u=>t.drawer=u),rail:t.rail,permanent:"",onClick:l[3]||(l[3]=u=>t.rail=!1)},{append:w(()=>[n(le),n(oe,{dense:"",nav:""},{default:w(()=>[n(P,{"prepend-icon":"mdi-cog",onClick:a.onSettings,title:"设置",value:"setting"},null,8,["onClick"]),n(P,{"prepend-icon":"mdi-arrow-left",block:"",color:t.rail?"blue":"",title:"返回首页",onClick:l[1]||(l[1]=u=>this.$router.push("/")),value:"index"},null,8,["color"]),n(P,{"prepend-icon":"mdi-logout",onClick:a.logout,block:"",color:t.rail?"red":"",title:"退出登录",value:"logout"},null,8,["onClick","color"])]),_:1})]),default:w(()=>[n(P,{"prepend-avatar":"https://randomuser.me/api/portraits/men/85.jpg",title:"John Leider",nav:""},{append:w(()=>[n(U,{variant:"text",icon:"mdi-chevron-left",onClick:l[0]||(l[0]=Ke(u=>t.rail=!t.rail,["stop"]))})]),_:1}),n(le),n(oe,{dense:"",nav:""},{default:w(()=>[(F(!0),Qe(fe,null,et(t.items,u=>(F(),ne(P,{key:u.title,"prepend-icon":u.icon,title:u.title,value:u.value,onClick:V=>a.navigator(u.value)},null,8,["prepend-icon","title","value","onClick"]))),128))]),_:1})]),_:1},8,["modelValue","rail"]),n(at,{style:{height:"100vh"}},{default:w(()=>[n(v)]),_:1})]),_:1})]),_:1}),n(it,{modelValue:t.settings,"onUpdate:modelValue":l[5]||(l[5]=u=>t.settings=u),"max-width":"500px"},{default:w(()=>[n(ie,null,{default:w(()=>[n(nt,{class:"text-h5"},{default:w(()=>[N("设置")]),_:1}),n(lt,null,{default:w(()=>[n(P,null,{default:w(()=>[n(tt,null,{default:w(()=>[N("夜间模式")]),_:1}),n(rt,null,{default:w(()=>[n(bt,{modelValue:e.dark,"onUpdate:modelValue":l[4]||(l[4]=u=>e.dark=u),color:"blue"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(ot,null,{default:w(()=>[n(ue),n(U,{color:"blue-darken-1",variant:"text",onClick:a.onSettings},{default:w(()=>[N("取消")]),_:1},8,["onClick"]),n(U,{color:"blue-darken-1",variant:"text",onClick:a.onSettings},{default:w(()=>[N("保存")]),_:1},8,["onClick"]),n(ue)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const Mt=je(pt,[["render",Ct]]);export{Mt as default};
